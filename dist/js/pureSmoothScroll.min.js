"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var momentumScroll,Util={isSmartPhone:function(){var e=navigator.userAgent;return 0<e.indexOf("iPhone")||0<e.indexOf("iPod")||0<e.indexOf("Android")&&0<e.indexOf("Mobile")||(0<e.indexOf("iPad")||0<e.indexOf("Android"))},getParam:function(e){url=window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(url);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}},MomentumScroll=function(){function t(e){_classCallCheck(this,t),this.container=document.querySelector(e),this.scrollY=0,this.translateY=0,this.speed=.2,this.rafId=null,this.isActive=!1,this.scrollHandler=this.scroll.bind(this),this.resizeHandler=this.resize.bind(this),this.run()}return _createClass(t,[{key:"run",value:function(){this.isActive||(this.isActive=!0,this.on(),this.setStyles())}},{key:"destroy",value:function(){this.isActive&&(this.isActive=!1,this.off(),this.clearStyles(),this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=null)}},{key:"resize",value:function(){document.body.style.height="".concat(this.container.clientHeight,"px")}},{key:"scroll",value:function(){var e=this;this.scrollY=window.scrollY||window.pageYOffset,this.rafId||(this.container.style.willChange="transform",this.rafId=requestAnimationFrame(function(){return e.render()}))}},{key:"on",value:function(){this.resize(),this.scroll(),window.addEventListener("scroll",this.scrollHandler,{passive:!0}),window.addEventListener("resize",this.resizeHandler),window.addEventListener("load",this.resizeHandler)}},{key:"off",value:function(){window.removeEventListener("scroll",this.scrollHandler),window.removeEventListener("resize",this.resizeHandler),window.removeEventListener("load",this.resizeHandler)}},{key:"setStyles",value:function(){this.container.style.position="fixed",this.container.style.width="100%",this.container.style.top=0,this.container.style.left=0}},{key:"clearStyles",value:function(){document.body.style.height="",this.container.style.position="",this.container.style.width="",this.container.style.top="",this.container.style.left="",this.container.style.transform="",this.container.style.willChange=""}},{key:"render",value:function(){var e=this,t=this.translateY+(this.scrollY-this.translateY)*this.speed;$("section").css({transform:"skewY("+(this.scrollY-this.translateY)/480+"deg)"});var n=Math.abs(this.scrollY-t)<=.1;this.translateY=n?this.scrollY:t;var i=Math.round(100*this.translateY)/100;this.container.style.transform="translate3d(0, -".concat(i,"px, 0)"),n?(this.rafId=null,this.container.style.willChange=""):this.rafId=requestAnimationFrame(function(){return e.render()})}}]),t}();Util.isSmartPhone()||document.addEventListener("DOMContentLoaded",function(){momentumScroll=new MomentumScroll("#container"),setInterval(momentumScroll.resize,1e3)});