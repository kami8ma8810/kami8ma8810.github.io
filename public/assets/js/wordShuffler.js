"use strict";function WordShuffler(t,e){var r=this;this.now,this.then=Date.now(),this.delta,this.currentTimeOffset=0,this.word=null,this.currentWord=null,this.currentCharacter=0,this.currentWordLength=0;var s={fps:20,timeOffset:12,useCanvas:!1,mixCapital:!1,mixSpecialCharacters:!1,needUpdate:!0,colors:[]};this.needUpdate=!0,this.fps=s.fps,this.interval=1e3/this.fps,this.timeOffset=s.timeOffset,this.textColor=s.textColor,this.fontSize=s.fontSize,this.mixCapital=s.mixCapital,this.mixSpecialCharacters=s.mixSpecialCharacters,this.colors=s.colors,this.useCanvas=s.useCanvas,this.chars=["!","@","$","%","&","#","%","=","?","_","<",">","^","-","*",":","+"],this.specialCharacters=["!","@","$","%","&","#","%","=","?","_","<",">","^","-","*",":","+"],this.mixSpecialCharacters&&(this.chars=this.chars.concat(this.specialCharacters)),this.getRandomColor=function(){var t=Math.floor(Math.random()*this.colors.length);return this.colors[t]},this.position={x:0,y:50},void 0!==t&&(this.holder=t),this.useCanvas||void 0!==this.holder||console.warn("Holder must be defined in DOM Mode. Use Canvas or define Holder"),this.getRandCharacter=function(t){if(" "==t)return" ";var e=Math.floor(Math.random()*this.chars.length),r=-.5+Math.random(),s=this.chars[e],i=s.toLowerCase();return this.mixCapital&&(i=r<0?s.toLowerCase():s),i},this.writeWord=function(t){this.word=t,this.currentWord=t.split(""),this.currentWordLength=this.currentWord.length},this.generateSingleCharacter=function(t,e){var r=document.createElement("span");return r.style.color=t,r.innerHTML=e,r},this.updateCharacter=function(t){if(this.now=Date.now(),this.delta=this.now-this.then,this.delta>this.interval){this.currentTimeOffset++;var e=[];this.currentTimeOffset===this.timeOffset&&this.currentCharacter!==this.currentWordLength&&(this.currentCharacter++,this.currentTimeOffset=0);for(var s=0;s<this.currentCharacter;s++)e.push(this.currentWord[s]);for(var i=0;i<this.currentWordLength-this.currentCharacter;i++)e.push(this.getRandCharacter(this.currentWord[this.currentCharacter+i]));if(r.useCanvas){c.clearRect(0,0,stage.x*stage.dpr,stage.y*stage.dpr),c.font=r.fontSize+" sans-serif";var a=0;e.forEach((function(t,e){e>r.currentCharacter?c.fillStyle=r.getRandomColor():c.fillStyle=r.textColor,c.fillText(t,r.position.x+a,r.position.y),a+=c.measureText(t).width}))}else r.currentCharacter===r.currentWordLength&&(r.needUpdate=!1),this.holder.innerHTML="",e.forEach((function(t,e){var s=null;s=e>r.currentCharacter?r.getRandomColor():r.textColor,r.holder.appendChild(r.generateSingleCharacter(s,t))}));this.then=this.now-this.delta%this.interval}},this.restart=function(){this.currentCharacter=0,this.needUpdate=!0},this.writeWord(this.holder.innerHTML),function t(e){e++,r.needUpdate&&r.updateCharacter(e),requestAnimationFrame(t)}(0)}if(null!==document.querySelector(".js-wordShuffler")){var targets=document.querySelectorAll(".js-wordShuffler");function doWhenTargetObserve(t,e){t.forEach((function(t){if(t.isIntersecting){new WordShuffler(document.getElementById("js-wsElm1"),{textColor:"#0000c8"});t.target.classList.add("is-show"),e.unobserve(t.target)}}))}var options={root:null,rootMargin:"-40% 0%",threshold:0,once:!0},observer=new IntersectionObserver(doWhenTargetObserve,options);targets.forEach((function(t){observer.observe(t)}))}