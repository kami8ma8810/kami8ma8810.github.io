<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<title>GSAP Drawer Animation Pettern 03</title>
		<link rel="stylesheet" href="./assets/css/gsap-drawer-animation-pattern.css">
	</head>
	<body id="pattern3">
		<header class="header">
			<div class="header-inner">
				<h1>GSAP Drawer Anime</h1>
				<button type="button" id="js-open-drawer" class="open-drawer-btn" aria-controls="js-drawer" aria-expanded="false">OPEN<span class="sr-only">メニューを開く</span>
				</button>
			</div>
		</header>
		<div id="js-drawer" class="drawer" aria-expanded="false">
			<nav class="drawer-nav">
				<ul class="drawer-nav-items">
					<li class="drawer-nav-item js-nav-item">
						<a href="./gsap-drawer.html">Pattern 01</a>
					</li>
					<li class="drawer-nav-item js-nav-item">
						<a href="./gsap-drawer-2.html">Pattern 02</a>
					</li>
					<li class="drawer-nav-item js-nav-item">
						<a href="./gsap-drawer-3.html">Pattern 03</a>
					</li>
				</ul>
			</nav>
			<button type="button" id="js-close-drawer" class="close-drawer-btn" aria-controls="js-drawer" aria-expanded="false">CLOSE<span class="sr-only">メニューを閉じる</span></button>
		</div>
		<main>
			<p class="bold text-cover">03 ドロワーフェードイン＆メニューも順番にフェードイン</p>
			<code>
<pre>
        const pattern3 = () => {
          gsap.set([drawer, ".js-nav-item a"], { visibility: "hidden", opacity: 0 });
          let tl3 = gsap.timeline({
            onReverseComplete: function () {
              gsap.set([drawer, ".js-nav-item a"], {
                visibility: "hidden",
                opacity: 0,
              });
            },
          });
          openButton.addEventListener("click", () => {
            if (!tl3.reversed()) {
              tl3
                .to(drawer, {
                  visibility: "visible",
                  opacity: 1,
                  ease: Power2.easeInOut,
                })
                .to(".js-nav-item a", {
                  stagger: { amount: 0.6 },
                  visibility: "visible",
                  opacity: 1,
                });
            } else {
              tl3.play();
            }
          });
          closeButton.addEventListener("click", () => {
            tl3.reverse();
          });
        };
</pre>
</code>
			<p class="bold">ドロワーを開いている間、メインコンテンツはスクロールしないようにしてあります。</p>
			<p class="bold">ドロワーのアニメーションはすべてJavaScriptファイル内（GSAP）で記述しています。（初期設定や見た目はCSS）</p>
		</main>
		<footer>
			<p>&copy;2021 上かるび</p>
		</footer>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js"></script>
		<script src="./assets/js/gsap-drawer-animation-pattern.js"></script>
	</body>
</html>